
\begin{tikzpicture}[auto, node distance = 0.4cm, thick,
	every node/.style = {rectangle, black, %font = \sffamily,
		draw=black, fill=white, %top color = blue!90!black, bottom color = blue!60!black,
		text width = 2.4cm, align = center, minimum height = 1cm}]
	
	% top layer: panel functions
	\coordinate (Oben);
	\node (support) [left  = of Oben] {\textbf{support}}; %\\ \texttt{IRF} \\ \texttt{PP.system} \\ \texttt{PP.variable}};
	\node (varx)	[right = of Oben] {varx};
	\node (pvarx)	[right = of varx] {\textbf{pvarx}};
	
	% middle layer: individual functions
	\coordinate [below = 1.4cm of Oben]	(Mitte);
	\node (coint)	[left = of Mitte]	{coint};
	\node (pcoint)	[left = of coint]	{\textbf{pcoint}}; %\\ \texttt{.JO} \\ \texttt{.SL} \\ \texttt{.CAIN}};
	\node (id)		[right = of Mitte]	{id};
	\node (pid)		[right = of id]		{\textbf{pid}};
	
	% bottom layer: library of auxiliary functions
	\coordinate [below = 2.5cm of Mitte]	(Unten);
	\node (auxPanel) [below = of Unten]		{auxPanel};
	\node (auxVARX)	 [left  = of auxPanel]	{auxVARX};
	\node (auxCoint) [left  = of auxVARX]	{auxCoint};
	\node (auxID)    [right = of auxPanel]	{auxID};
	\node (auxSupp)	 [right = of auxID]	    {auxSupp};
	
	% connections
	\draw [black,thick]
	(Oben)   -- (Mitte)  -- (Unten)
	(pvarx)	 -- (varx)	 -- (Oben)  -- (support)
	(pcoint) -- (coint)  -- (Mitte) -- (id) -- (pid)
	(Unten) -| (auxVARX)
	(Unten) -| (auxCoint)
	(Unten) -| (auxPanel)
	(Unten) -| (auxID)
	(Unten) -| (auxSupp);
	
	% labels for layers 
	\node[draw=white,text width=5.5cm, above left = 0.7cm of auxCoint, anchor=south west] (Lib) {\textbf{Library of auxiliary functions}};
	\coordinate [above left  = of Lib]     (lFound);
	\coordinate [below right = of auxSupp] (rFound);
	\fill[draw=black,color=lightgray,opacity=0.2] (lFound) rectangle (rFound);
	\coordinate (pvars) at (Oben -| Lib);
	\node[draw=white,text width=5.5cm, left = 3.8cm of pvars, anchor=west] {\textbf{Exported functions}};
\end{tikzpicture}


